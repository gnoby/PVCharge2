<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tesla Charge Ganslmeier</title>
</head>
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <style>
        html{font-size:100%}.ui-btn,body,button,input,select,textarea{font-size:1em;line-height:1.3;font-family:sans-serif}.ui-input-search input,.ui-input-text input,legend{color:inherit;text-shadow:inherit}.ui-mobile label,div.ui-controlgroup-label{font-weight:400;font-size:16px}.ui-field-contain{border-bottom-color:#828282;border-bottom:1px solid rgba(0,0,0,.15)}.table-stripe tbody tr:last-child,.table-stripe thead th,.table-stroke thead th{border-bottom:1px solid rgba(0,0,0,.1)}.table-stroke tbody td,.table-stroke tbody th{border-bottom:1px solid rgba(0,0,0,.05)}.table-stripe.table-stroke tbody tr:last-child td,.table-stripe.table-stroke tbody tr:last-child th{border-bottom:0}.ui-bar-a,.ui-bar-b,.ui-bar-c,.ui-body-a,.ui-body-b,.ui-body-c,.ui-btn,label.ui-btn{border-width:1px;border-style:solid}.table-stripe tbody tr:nth-child(odd) td,.table-stripe tbody tr:nth-child(odd) th{background-color:rgba(0,0,0,.04)}.ui-btn,label.ui-btn{font-weight:700}.ui-btn{text-decoration:none!important}.ui-btn-active{cursor:pointer}.ui-corner-all{-webkit-border-radius:.6em;border-radius:.6em}.ui-btn-corner-all,.ui-btn.ui-corner-all,.ui-flipswitch.ui-corner-all,.ui-li-count,.ui-slider-track.ui-corner-all{-webkit-border-radius:.3125em;border-radius:.3125em}.ui-btn-icon-notext.ui-btn-corner-all,.ui-btn-icon-notext.ui-corner-all{-webkit-border-radius:1em;border-radius:1em}.ui-btn-corner-all,.ui-corner-all{-webkit-background-clip:padding;background-clip:padding-box}.ui-popup.ui-corner-all>.ui-popup-arrow-guide{left:.6em;right:.6em;top:.6em;bottom:.6em}.ui-shadow{-webkit-box-shadow:0 1px 3px rgba(0,0,0,.2);-moz-box-shadow:0 1px 3px rgba(0,0,0,.2);box-shadow:0 1px 3px rgba(0,0,0,.2)}.ui-shadow-inset{-webkit-box-shadow:inset 0 1px 3px rgba(0,0,0,.2);-moz-box-shadow:inset 0 1px 3px rgba(0,0,0,.2);box-shadow:inset 0 1px 3px rgba(0,0,0,.2)}.ui-overlay-shadow{-webkit-box-shadow:0 0 12px rgba(0,0,0,.6);-moz-box-shadow:0 0 12px rgba(0,0,0,.6);box-shadow:0 0 12px rgba(0,0,0,.6)}.ui-btn-icon-bottom:after,.ui-btn-icon-left:after,.ui-btn-icon-notext:after,.ui-btn-icon-right:after,.ui-btn-icon-top:after{background-color:rgba(0,0,0,.15);background-position:center center;background-repeat:no-repeat;-webkit-border-radius:1em;border-radius:1em}.ui-alt-icon .ui-btn:after,.ui-alt-icon.ui-btn:after,html .ui-alt-icon .ui-checkbox-off:after,html .ui-alt-icon .ui-radio-off:after,html .ui-alt-icon.ui-checkbox-off:after,html .ui-alt-icon.ui-radio-off:after{background-color:rgba(0,0,0,.15)}.ui-nodisc-icon .ui-btn:after,.ui-nodisc-icon.ui-btn:after{background-color:transparent}.ui-shadow-icon .ui-btn:after,.ui-shadow-icon.ui-btn:after{-webkit-box-shadow:0 1px 0 rgba(255,255,255,.3);-moz-box-shadow:0 1px 0 rgba(255,255,255,.3);box-shadow:0 1px 0 rgba(255,255,255,.3)}.ui-btn.ui-checkbox-off:after,.ui-btn.ui-checkbox-on:after,.ui-btn.ui-radio-off:after,.ui-btn.ui-radio-on:after{display:block;width:18px;height:18px;margin:-9px 2px 0}.ui-btn.ui-radio-off:after,.ui-checkbox-off:after{filter:Alpha(Opacity=30);opacity:.3}.ui-btn.ui-checkbox-off:after,.ui-btn.ui-checkbox-on:after{-webkit-border-radius:.1875em;border-radius:.1875em}.ui-btn.ui-checkbox-off:after{background-color:rgba(0,0,0,.3)}.ui-radio .ui-btn.ui-radio-on:after{background-image:none;background-color:#fff;width:8px;height:8px;border-width:5px;border-style:solid}.ui-alt-icon .ui-btn.ui-radio-on:after,.ui-alt-icon.ui-btn.ui-radio-on:after{background-color:#000}.ui-icon-loading{background:url("images/ajax-loader.gif") 0 0/2.875em 2.875em}.ui-bar-a,.ui-bar-b,.ui-bar-c,.ui-page-theme-a .ui-bar-inherit,.ui-page-theme-b .ui-bar-inherit,.ui-page-theme-c .ui-bar-inherit,html .ui-bar-a .ui-bar-inherit,html .ui-bar-b .ui-bar-inherit,html .ui-bar-c .ui-bar-inherit,html .ui-body-a .ui-bar-inherit,html .ui-body-b .ui-bar-inherit,html .ui-body-c .ui-bar-inherit,html body .ui-group-theme-a .ui-bar-inherit,html body .ui-group-theme-b .ui-bar-inherit,html body .ui-group-theme-c .ui-bar-inherit{background-color:#e9e9e9;border-color:#ddd;color:#333;text-shadow:0 1px 0 #eee;font-weight:700}.ui-overlay-a,.ui-overlay-b,.ui-overlay-c,.ui-page-theme-a,.ui-page-theme-a .ui-panel-wrapper,.ui-page-theme-b,.ui-page-theme-b .ui-panel-wrapper,.ui-page-theme-c,.ui-page-theme-c .ui-panel-wrapper{background-color:#f9f9f9;border-color:#bbb;color:#333;text-shadow:0 1px 0 #f3f3f3}.ui-body-a,.ui-body-b,.ui-body-c,.ui-page-theme-a .ui-body-inherit,.ui-page-theme-b .ui-body-inherit,.ui-page-theme-c .ui-body-inherit,html .ui-bar-a .ui-body-inherit,html .ui-bar-b .ui-body-inherit,html .ui-bar-c .ui-body-inherit,html .ui-body-a .ui-body-inherit,html .ui-body-b .ui-body-inherit,html .ui-body-c .ui-body-inherit,html .ui-panel-page-container-a,html .ui-panel-page-container-b,html .ui-panel-page-container-c,html body .ui-group-theme-a .ui-body-inherit,html body .ui-group-theme-b .ui-body-inherit,html body .ui-group-theme-c .ui-body-inherit{background-color:#fff;border-color:#ddd;color:#333;text-shadow:0 1px 0 #f3f3f3}.ui-page-theme-a a,.ui-page-theme-b a,.ui-page-theme-c a,html .ui-bar-a a,html .ui-bar-b a,html .ui-bar-c a,html .ui-body-a a,html .ui-body-b a,html .ui-body-c a,html body .ui-group-theme-a a,html body .ui-group-theme-b a,html body .ui-group-theme-c a{color:#38c;font-weight:700}.ui-page-theme-a a:visited,.ui-page-theme-b a:visited,.ui-page-theme-c a:visited,html .ui-bar-a a:visited,html .ui-bar-b a:visited,html .ui-bar-c a:visited,html .ui-body-a a:visited,html .ui-body-b a:visited,html .ui-body-c a:visited,html body .ui-group-theme-a a:visited,html body .ui-group-theme-b a:visited,html body .ui-group-theme-c a:visited{color:#38c}.ui-page-theme-a a:active,.ui-page-theme-a a:hover,.ui-page-theme-b a:active,.ui-page-theme-b a:hover,.ui-page-theme-c a:active,.ui-page-theme-c a:hover,html .ui-bar-a a:active,html .ui-bar-a a:hover,html .ui-bar-b a:active,html .ui-bar-b a:hover,html .ui-bar-c a:active,html .ui-bar-c a:hover,html .ui-body-a a:active,html .ui-body-a a:hover,html .ui-body-b a:active,html .ui-body-b a:hover,html .ui-body-c a:active,html .ui-body-c a:hover,html body .ui-group-theme-a a:active,html body .ui-group-theme-a a:hover,html body .ui-group-theme-b a:active,html body .ui-group-theme-b a:hover,html body .ui-group-theme-c a:active,html body .ui-group-theme-c a:hover{color:#059}.ui-page-theme-a .ui-btn,.ui-page-theme-a .ui-btn:visited,html .ui-bar-a .ui-btn,html .ui-bar-a .ui-btn:visited,html .ui-body-a .ui-btn,html .ui-body-a .ui-btn:visited,html body .ui-group-theme-a .ui-btn,html body .ui-group-theme-a .ui-btn:visited,html head+body .ui-btn.ui-btn-a,html head+body .ui-btn.ui-btn-a:visited{background-color:#0071bc;border-color:#003e67;color:#fff;text-shadow:0 1px 0 #444}.ui-page-theme-a .ui-btn:active,.ui-page-theme-a .ui-btn:hover,html .ui-bar-a .ui-btn:active,html .ui-bar-a .ui-btn:hover,html .ui-body-a .ui-btn:active,html .ui-body-a .ui-btn:hover,html body .ui-group-theme-a .ui-btn:active,html body .ui-group-theme-a .ui-btn:hover,html head+body .ui-btn.ui-btn-a:active,html head+body .ui-btn.ui-btn-a:hover{background-color:#4581d8;border-color:#254676;color:#fff;text-shadow:0 1px 0 #444}.ui-btn.ui-checkbox-on.ui-btn-a:after,.ui-btn.ui-checkbox-on.ui-btn-b:after,.ui-btn.ui-checkbox-on.ui-btn-c:after,.ui-page-theme-a .ui-btn.ui-btn-active,.ui-page-theme-a .ui-checkbox-on:after,.ui-page-theme-a .ui-flipswitch-active,.ui-page-theme-a .ui-slider-track .ui-btn-active,.ui-page-theme-b .ui-btn.ui-btn-active,.ui-page-theme-b .ui-checkbox-on:after,.ui-page-theme-b .ui-flipswitch-active,.ui-page-theme-b .ui-slider-track .ui-btn-active,.ui-page-theme-c .ui-btn.ui-btn-active,.ui-page-theme-c .ui-checkbox-on:after,.ui-page-theme-c .ui-flipswitch-active,.ui-page-theme-c .ui-slider-track .ui-btn-active,html .ui-bar-a .ui-btn.ui-btn-active,html .ui-bar-a .ui-checkbox-on:after,html .ui-bar-a .ui-flipswitch-active,html .ui-bar-a .ui-slider-track .ui-btn-active,html .ui-bar-b .ui-btn.ui-btn-active,html .ui-bar-b .ui-checkbox-on:after,html .ui-bar-b .ui-flipswitch-active,html .ui-bar-b .ui-slider-track .ui-btn-active,html .ui-bar-c .ui-btn.ui-btn-active,html .ui-bar-c .ui-checkbox-on:after,html .ui-bar-c .ui-flipswitch-active,html .ui-bar-c .ui-slider-track .ui-btn-active,html .ui-body-a .ui-btn.ui-btn-active,html .ui-body-a .ui-checkbox-on:after,html .ui-body-a .ui-flipswitch-active,html .ui-body-a .ui-slider-track .ui-btn-active,html .ui-body-b .ui-btn.ui-btn-active,html .ui-body-b .ui-checkbox-on:after,html .ui-body-b .ui-flipswitch-active,html .ui-body-b .ui-slider-track .ui-btn-active,html .ui-body-c .ui-btn.ui-btn-active,html .ui-body-c .ui-checkbox-on:after,html .ui-body-c .ui-flipswitch-active,html .ui-body-c .ui-slider-track .ui-btn-active,html body .ui-flipswitch.ui-bar-a.ui-flipswitch-active,html body .ui-flipswitch.ui-bar-b.ui-flipswitch-active,html body .ui-flipswitch.ui-bar-c.ui-flipswitch-active,html body .ui-group-theme-a .ui-btn.ui-btn-active,html body .ui-group-theme-a .ui-checkbox-on:after,html body .ui-group-theme-a .ui-flipswitch-active,html body .ui-group-theme-a .ui-slider-track .ui-btn-active,html body .ui-group-theme-b .ui-btn.ui-btn-active,html body .ui-group-theme-b .ui-checkbox-on:after,html body .ui-group-theme-b .ui-flipswitch-active,html body .ui-group-theme-b .ui-slider-track .ui-btn-active,html body .ui-group-theme-c .ui-btn.ui-btn-active,html body .ui-group-theme-c .ui-checkbox-on:after,html body .ui-group-theme-c .ui-flipswitch-active,html body .ui-group-theme-c .ui-slider-track .ui-btn-active,html body div.ui-slider-track.ui-body-a .ui-btn-active,html body div.ui-slider-track.ui-body-b .ui-btn-active,html body div.ui-slider-track.ui-body-c .ui-btn-active,html head+body .ui-btn.ui-btn-a.ui-btn-active,html head+body .ui-btn.ui-btn-b.ui-btn-active,html head+body .ui-btn.ui-btn-c.ui-btn-active{background-color:#38c;border-color:#38c;color:#fff;text-shadow:0 1px 0 #059}.ui-btn.ui-radio-on.ui-btn-a:after,.ui-btn.ui-radio-on.ui-btn-b:after,.ui-btn.ui-radio-on.ui-btn-c:after,.ui-page-theme-a .ui-radio-on:after,.ui-page-theme-b .ui-radio-on:after,.ui-page-theme-c .ui-radio-on:after,html .ui-bar-a .ui-radio-on:after,html .ui-bar-b .ui-radio-on:after,html .ui-bar-c .ui-radio-on:after,html .ui-body-a .ui-radio-on:after,html .ui-body-b .ui-radio-on:after,html .ui-body-c .ui-radio-on:after,html body .ui-group-theme-a .ui-radio-on:after,html body .ui-group-theme-b .ui-radio-on:after,html body .ui-group-theme-c .ui-radio-on:after{border-color:#38c}.ui-page-theme-a .ui-btn:focus,.ui-page-theme-a .ui-focus,.ui-page-theme-b .ui-btn:focus,.ui-page-theme-b .ui-focus,.ui-page-theme-c .ui-btn:focus,.ui-page-theme-c .ui-focus,html .ui-bar-a .ui-btn:focus,html .ui-bar-a .ui-focus,html .ui-bar-b .ui-btn:focus,html .ui-bar-b .ui-focus,html .ui-bar-c .ui-btn:focus,html .ui-bar-c .ui-focus,html .ui-body-a .ui-btn:focus,html .ui-body-a .ui-focus,html .ui-body-b .ui-btn:focus,html .ui-body-b .ui-focus,html .ui-body-c .ui-btn:focus,html .ui-body-c .ui-focus,html body .ui-group-theme-a .ui-btn:focus,html body .ui-group-theme-a .ui-focus,html body .ui-group-theme-b .ui-btn:focus,html body .ui-group-theme-b .ui-focus,html body .ui-group-theme-c .ui-btn:focus,html body .ui-group-theme-c .ui-focus,html head+body .ui-body-a.ui-focus,html head+body .ui-body-b.ui-focus,html head+body .ui-body-c.ui-focus,html head+body .ui-btn-a.ui-focus,html head+body .ui-btn-b.ui-focus,html head+body .ui-btn-c.ui-focus,html head+body .ui-btn.ui-btn-a:focus,html head+body .ui-btn.ui-btn-b:focus,html head+body .ui-btn.ui-btn-c:focus{-webkit-box-shadow:0 0 12px #38c;-moz-box-shadow:0 0 12px #38c;box-shadow:0 0 12px #38c}.ui-page-theme-b .ui-btn,.ui-page-theme-b .ui-btn:visited,.ui-page-theme-c .ui-btn,.ui-page-theme-c .ui-btn:visited,html .ui-bar-b .ui-btn,html .ui-bar-b .ui-btn:visited,html .ui-bar-c .ui-btn,html .ui-bar-c .ui-btn:visited,html .ui-body-b .ui-btn,html .ui-body-b .ui-btn:visited,html .ui-body-c .ui-btn,html .ui-body-c .ui-btn:visited,html body .ui-group-theme-b .ui-btn,html body .ui-group-theme-b .ui-btn:visited,html body .ui-group-theme-c .ui-btn,html body .ui-group-theme-c .ui-btn:visited,html head+body .ui-btn.ui-btn-b,html head+body .ui-btn.ui-btn-b:visited,html head+body .ui-btn.ui-btn-c,html head+body .ui-btn.ui-btn-c:visited{background-color:#f6f6f6;border-color:#ddd;color:#333;text-shadow:0 1px 0 #f3f3f3}.ui-page-theme-b .ui-btn:hover,.ui-page-theme-c .ui-btn:hover,html .ui-bar-b .ui-btn:hover,html .ui-bar-c .ui-btn:hover,html .ui-body-b .ui-btn:hover,html .ui-body-c .ui-btn:hover,html body .ui-group-theme-b .ui-btn:hover,html body .ui-group-theme-c .ui-btn:hover,html head+body .ui-btn.ui-btn-b:hover,html head+body .ui-btn.ui-btn-c:hover{background-color:#ededed;border-color:#ddd;color:#333;text-shadow:0 1px 0 #f3f3f3}.ui-page-theme-b .ui-btn:active,.ui-page-theme-c .ui-btn:active,html .ui-bar-b .ui-btn:active,html .ui-bar-c .ui-btn:active,html .ui-body-b .ui-btn:active,html .ui-body-c .ui-btn:active,html body .ui-group-theme-b .ui-btn:active,html body .ui-group-theme-c .ui-btn:active,html head+body .ui-btn.ui-btn-b:active,html head+body .ui-btn.ui-btn-c:active{background-color:#e8e8e8;border-color:#ddd;color:#333;text-shadow:0 1px 0 #f3f3f3}.ui-disabled,.ui-select .ui-btn.ui-state-disabled,.ui-state-disabled,button[disabled]{filter:Alpha(Opacity=30);opacity:.3;cursor:default!important;pointer-events:none}.ui-btn.ui-focus,.ui-btn:focus{outline:0}.ui-noboxshadow .ui-btn:focus,.ui-noboxshadow .ui-focus,.ui-noboxshadow .ui-overlay-shadow,.ui-noboxshadow .ui-panel,.ui-noboxshadow .ui-shadow,.ui-noboxshadow .ui-shadow-icon .ui-btn:after,.ui-noboxshadow .ui-shadow-icon.ui-btn:after,.ui-noboxshadow .ui-shadow-inset,.ui-noboxshadow input:focus{-webkit-box-shadow:none!important;-moz-box-shadow:none!important;box-shadow:none!important}.ui-noboxshadow .ui-btn:focus,.ui-noboxshadow .ui-focus{outline-width:1px;outline-style:auto}
        input.ui-slider-input
        {
            font-size:18px;
        }
        .ui-content
        {
            padding: 0.5em;
        }
        #button_start_charge, #button_stop_charge
        {
            padding:1.5em 1em;
        }
    </style>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <!--
    <script src="{{url_for('static', filename='htmx.min.js')}}"></script>
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='jquerymobile/jquery.mobile-1.4.5.min.css') }}">
    <script src="{{url_for('static', filename='jquery-2.1.4.js')}}"></script>
    <script src="{{url_for('static', filename='jquerymobile/jquery.mobile-1.4.5.min.js')}}"></script>
    -->
	<script>

        $.mobile.pushStateEnabled = false;
        var sliderMaxChargeTimer;
        var sliderAmpereTimer;
		$(document).ready(function()
		{
		  $('#slider_max_charge').change(function()
		  {
              if (sliderMaxChargeTimer)
              {
                clearTimeout(sliderMaxChargeTimer)
              }
              value = this.value;
              sliderMaxChargeTimer = setTimeout(function() {$.post( "", "max_charge=" +value)}, 1000);
		  });
          $('#slider_ampere').change(function()
          {
              if (sliderAmpereTimer)
              {
                clearTimeout(sliderAmpereTimer)
              }
              value = this.value;
              sliderAmpereTimer = setTimeout(function() {$.post( "", "ampere=" +value)}, 1000);
          });
          $('#button_stop_charge').click(function()
          {
                $.post( "", "button_stop_charge=true")
          });
          $('#button_start_charge').click(function()
          {
                $.post( "", "button_start_charge=true")
          });
          $('#button_wakeup').click(function()
          {
                $.post( "", "button_wakeup=true")
          });

		});
	</script>
<body>
<div data-role="page">

	<div data-role="header" hx-post="" hx-trigger="load, every 5s" hx-vars="displayshortstatus:true"
         style="text-align: center">
	</div><!-- /header -->

	<div data-role="content">
        <a href="#" data-role="button" data-icon="check" id="button_start_charge" style="background-color:#579e2e">Laden starten</a>
        <a href="#" data-role="button" data-icon="delete" id="button_stop_charge" style="background-color:#9e422e">Laden beenden</a>


        <label for="slider_max_charge" >HÃ¶chster Ladestand:</label>
        <input type="range" data-highlight="true" name="slider" id="slider_max_charge" value="{{max_charge}}" min="0" max="100" step="5" ></input>

        <label for="slider_ampere" >Minimum Ampere (1-16):</label>
        <input type="range" data-highlight="true" name="slider" id="slider_ampere" value="{{minimum_ampere}}" min="1" max="16"  ></input>

        <div data-role="collapsible" data-collapsed="false">
            <h5>Status</h5>
            <div hx-post="" hx-trigger="load, every 5s" hx-vars="displaystatus:true"></div>
        </div>

        <div data-role="collapsible" >
            <h5 >Log</h5>
            <a href="#" data-role="button" data-icon="action" id="button_wakeup" >Auto aufwecken</a>
            <div hx-post="" hx-trigger="load, every 5s" hx-vars="displaylog:true"></div>
        </div>
    </div>
</div>


</body>
</html>